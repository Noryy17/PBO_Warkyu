@startuml
actor Customer
participant "Aplikasi Wakrun" as App
participant "Payment Gateway" as PG
participant "Dapur" as Kitchen

Customer -> App: Buka aplikasi & Login
App --> Customer: Tampilkan Menu Online

Customer -> App: Pilih kategori & lihat detail menu
Customer -> App: Input Nomor Meja
App -> App: Validasi Nomor Meja

Customer -> App: Tambah item ke pesanan
App -> App: Hitung total pesanan

opt Catatan Khusus
  Customer -> App: Tambah catatan pesanan
  App -> App: Perbarui detail pesanan
end

opt Promo/Voucher
  Customer -> App: Input kode promo
  App -> App: Hitung ulang total pesanan
end

Customer -> App: Pilih metode pembayaran
App -> PG: Kirim detail pembayaran
PG --> App: Status pembayaran

alt Pembayaran Berhasil
  App -> Kitchen: Kirim notifikasi pesanan
  Kitchen -> Kitchen: Siapkan pesanan
  App --> Customer: Tampilkan status pesanan
else Pembayaran Gagal
  App --> Customer: Tampilkan error pembayaran
end

Customer -> App: Lihat riwayat pesanan
Customer -> App: Logout

@enduml
